@model QuanLyHopDongVaKySo.CLIENT.ViewModels.VMLogin
@{
    Layout = "";
}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="/2.ico" type="image/x-icon">

    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
    <!-- ICONS -->
    <script src="https://unpkg.com/@@phosphor-icons/web"></script>
     <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <style>
        .form_login {
            display: flex;
            height: 100vh;
        }

        .side,
        .banner {
            width: 50%;
            height: 100%;
            justify-content: center;
            align-items: center;
            display: flex;
        }

        .side {
            flex-direction: column;
        }
        /*   .banner{
                    background-color: #9D9D9D;
                } */
        .top img {
            width: 366px;
            height: 366px;
        }

        .form {
            width: 486px;
            height: 520px;
            border-radius: 46px;
            background-color: rgba( 217, 217, 217, 0.3);
        }

        h3 {
            display: flex;
            width: 335px;
            height: 123px;
            flex-direction: column;
            justify-content: center;
            color: #0f172a;
            text-align: center;
            font-family: Montserrat;
            font-size: 48px;
            font-style: normal;
            font-weight: 700;
            line-height: normal;
            margin: 0 auto;
            opacity: 0.3;
        }

        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 50%;
            height: 100vh;
            background-color: #9D9D9D;
            z-index: 999;
            opacity: 0.2;
        }

        div[class="mb-3"] {
            max-width: 400px;
            margin: 0 auto;
            color: #0f172a;
            font-size: 16px;
            font-style: normal;
            font-weight: 700;
            line-height: normal;
        }

        div[class="row justify-content-between"] {
            max-width: 400px;
            margin: 0 auto;
            padding-top: 10px;
            align-items: center;
            color: #0f172a;
            font-size: 16px;
            font-style: normal;
            font-weight: 700;
            line-height: normal;
            opacity: 0.3;
        }

        .mb-3 > button {
            width: 400px;
            margin: 0 auto;
            height: 50px;
            margin-top: 10px;
            border-radius: 10px;
            background: #6FB1FC;
            color: #FFFF;
            font-weight: bold;
            border: none;
        }

        .mb-3 > label {
            opacity: 0.3;
        }

        .mb-3 input {
            border-radius: 15px;
            background: #D9D9D9;
            height: 50px;
        }

        .password-container {
            position: relative;
            width: 400px;
            margin: auto;
        }

        .input-container {
            position: relative;
        }

        #password {
            padding-right: 30px; 
        }

        .eye-icon {
            position: absolute;
            top: 50%;
            right: 10px;
            transform: translateY(-50%);
            cursor: pointer;
        }

        #eyeIcon{
            font-size: 25px;
        }
    </style>
    <style>
        .loading {
            position: absolute;
            z-index: 1;
            width: 100%;
            height: 100%;
            display: none;
            align-items: center;
            justify-content: center;
            background-color: transparent;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        .loading img {
            width: 7rem;
        }
    </style>
</head>
<body>
  
    <div class="form_login">
        <div class="overlay"></div>
        <div class="banner">
            <img src="~/Resource/Image/Background_Login.png" />
        </div>
        <div class="side">
            <div class="top">
                <img src="~/Resource/Image/LOGO_WITHOUT_BG/2.png" />
            </div>
            <form asp-controller="Verify" asp-action="Login" method="post">
                <div class="form">
                    <h3>ĐĂNG NHẬP</h3>
                    <div class="mb-3">
                        <label for="email" class="form-label">EMAIL</label>
                        <input type="email" class="form-control" id="email" asp-for="Email"  required>
                        <span class="text-danger" asp-validation-for="Email"></span>
                    </div>
                    <div class="mb-3 password-container">
                        <label for="password" class="form-label" style="font-weight:bold;">MẬT KHẨU</label>
                        <div class="input-container">
                            <input type="password" class="form-control" asp-for="Password" id="password" required>
                            <div class="eye-icon" onclick="togglePasswordVisibility()">
                                <i class="ph-bold ph-eye-slash" id="eyeIcon"></i>
                            </div>
                        </div>
                        <span class="text-danger" asp-validation-for="Password"></span>
                    </div>

                    <div class="row justify-content-between">
                        <div class="col-md-6">
                            <div class="form-check">
                                <input onclick="login()" class="form-check-input" type="checkbox" name="rememberMe" id="rememberMe">
                                <label class="form-check-label" for="rememberMe">
                                    Ghi nhớ tôi
                                </label>
                            </div>
                        </div>
                        <div class="col-md-6" style="text-align:end;">
                            <label class="form-label">
                                <a style="text-decoration:none;  color: #0f172a;" href="/Verify/ResetPass">Quên mật khẩu?</a>
                            </label>
                        </div>
                    </div>
                    <div class="mb-3">
                        <div class="loading" id="loading">
                            <img src="https://icon-library.com/images/spinner-icon-gif/spinner-icon-gif-10.jpg" alt="loading">
                        </div>
                        <button type="submit" id="submitButton" onclick="Loading()">
                            ĐĂNG NHẬP                    
                        </button>
                    </div>

                </div>
            </form>
        </div>
    </div>

</body>
<script src="~/lib/jquery/dist/jquery.min.js"></script>
<script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
</html>
@if (ViewBag.SweetType != null)
{
    <script>
        Swal.fire({
            icon: '@ViewBag.SweetIcon',
            title: '@ViewBag.SweetTitle',
            showConfirmButton: false,
            timer: 1500
        });
    </script>
}
<script type="text/javascript">
  
     const iconLoading = document.getElementById("loading");

    const showLoading = () => {
        iconLoading.style.display = "flex";
    };

    const hideLoading = () => {
        iconLoading.style.display = "none";
    };

    const Loading = () => {
        showLoading(); // Show loading spinner when the button is clicked

        // You can perform additional logic here before or after the form submission
        // For example, submit the form programmatically
        document.querySelector('form').submit();

        // If you want to prevent the form from submitting immediately, you can remove the form submission line

        // Hide loading spinner after the form submission is complete
        setTimeout(() => {
            hideLoading(); // Hide loading icon after some time (replace this with your actual logic)
        }, 3000);
    };

    function login() {
        var email = document.getElementById('email').value;
        var password = document.getElementById('password').value;

        var rememberMeCheckbox = document.getElementById('rememberMe');
        var rememberMe = rememberMeCheckbox.checked;

      
        if (rememberMe) {
            localStorage.setItem('savedEmail', email);
            localStorage.setItem('savedPassword', password);
        } else {
           
            localStorage.removeItem('savedEmail');
            localStorage.removeItem('savedPassword');
        }
    }
    window.onload = function () {
        var savedEmail = localStorage.getItem('savedEmail');
        var savedPassword = localStorage.getItem('savedPassword');

        if (savedEmail && savedPassword) {
            document.getElementById('email').value = savedEmail;
            document.getElementById('password').value = savedPassword;
        }
    };


    function togglePasswordVisibility() {
        var passwordInput = document.getElementById("password");
        var eyeIcon = document.getElementById("eyeIcon");

        if (passwordInput.type === "password") {
            passwordInput.type = "text";
            eyeIcon.classList.remove("ph-eye-slash");
            eyeIcon.classList.add("ph-eye");
        } else {
            passwordInput.type = "password";
            eyeIcon.classList.remove("ph-eye");
            eyeIcon.classList.add("ph-eye-slash");
        }
    }
</script>

